{
  "id": "5176a1cb-a479-42e8-bccf-a165be7b239a",
  "revision": 0,
  "last_node_id": 355,
  "last_link_id": 702,
  "nodes": [
    {
      "id": 48,
      "type": "DualCLIPLoader",
      "pos": [
        -2785.005615234375,
        -149.6881103515625
      ],
      "size": [
        324.66607666015625,
        130
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "clip_name1",
          "type": "COMBO",
          "widget": {
            "name": "clip_name1"
          },
          "link": 512
        },
        {
          "name": "clip_name2",
          "type": "COMBO",
          "widget": {
            "name": "clip_name2"
          },
          "link": 513
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            547
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "DualCLIPLoader"
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp16.safetensors",
        "flux",
        "default"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 274,
      "type": "Note",
      "pos": [
        -2885.005615234375,
        40.31182861328125
      ],
      "size": [
        295.5035400390625,
        196.2310791015625
      ],
      "flags": {
        "collapsed": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Чтобы модель работала быстрее мы огрубляем её точность вычислений до fp8, поэтому здесчь сразу скачивается файл из которого удалено лишнее\nflux1-dev-fp8.safetensors\n\nВ случае, если вы хотите использовать полную версию, то нужно переключить weight_dtype на default и скачать 23.8Gb полной версии\nflux1-dev.safetensors\n\nhttps://huggingface.co/black-forest-labs/FLUX.1-dev/tree/main"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 275,
      "type": "Note",
      "pos": [
        -2875.005615234375,
        190.31192016601562
      ],
      "size": [
        295.5035400390625,
        196.2310791015625
      ],
      "flags": {
        "collapsed": true
      },
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "этот файл так же известен как ae.safetensors"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 265,
      "type": "KSamplerSelect",
      "pos": [
        -590.2730102539062,
        566.453125
      ],
      "size": [
        210,
        58
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SAMPLER",
          "type": "SAMPLER",
          "links": [
            543
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "KSamplerSelect"
      },
      "widgets_values": [
        "euler"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 273,
      "type": "Note",
      "pos": [
        -2895.005615234375,
        -149.6881103515625
      ],
      "size": [
        249.4007110595703,
        177.44696044921875
      ],
      "flags": {
        "collapsed": true
      },
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Текстовые энкодеры это модели которые интерпретируют текст в численные инструкции которым следует дифузионная модель при удалении шума. В случае FLUX используются\nT5XXL\nhttps://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/t5xxl_fp16.safetensors\nи CLIP_L\nhttps://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 264,
      "type": "BasicGuider",
      "pos": [
        -585.091552734375,
        472.8016357421875
      ],
      "size": [
        199.9603271484375,
        46
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 603
        },
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 616
        }
      ],
      "outputs": [
        {
          "name": "GUIDER",
          "type": "GUIDER",
          "links": [
            542
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "BasicGuider"
      },
      "widgets_values": []
    },
    {
      "id": 228,
      "type": "Hugging Face Download Model",
      "pos": [
        -3315.0068359375,
        -179.68807983398438
      ],
      "size": [
        341.4167785644531,
        106
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "slot_index": 0,
          "links": [
            512
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "420dbcf048d0a4af889152c7b5a36b85fa1dc8c1",
        "Node name for S&R": "Hugging Face Download Model",
        "aux_id": "jnxmx/ComfyUI_HuggingFace_Downloader"
      },
      "widgets_values": [
        "clip",
        "https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/t5xxl_fp16.safetensors",
        ""
      ]
    },
    {
      "id": 227,
      "type": "Hugging Face Download Model",
      "pos": [
        -3315.0068359375,
        -19.688180923461914
      ],
      "size": [
        339.9183654785156,
        106
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "slot_index": 0,
          "links": [
            513
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "420dbcf048d0a4af889152c7b5a36b85fa1dc8c1",
        "Node name for S&R": "Hugging Face Download Model",
        "aux_id": "jnxmx/ComfyUI_HuggingFace_Downloader"
      },
      "widgets_values": [
        "clip",
        "https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors",
        ""
      ]
    },
    {
      "id": 229,
      "type": "Hugging Face Download Model",
      "pos": [
        -3305.0068359375,
        280.3118591308594
      ],
      "size": [
        338.0221252441406,
        106
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "slot_index": 0,
          "links": [
            514
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "420dbcf048d0a4af889152c7b5a36b85fa1dc8c1",
        "Node name for S&R": "Hugging Face Download Model",
        "aux_id": "jnxmx/ComfyUI_HuggingFace_Downloader"
      },
      "widgets_values": [
        "vae",
        "https://huggingface.co/Kijai/flux-fp8/blob/main/flux-vae-bf16.safetensors",
        ""
      ]
    },
    {
      "id": 320,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2346.38232421875,
        -163.7067413330078
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 18,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 597
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            598
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SDXL-8steps-CFG-lora.safetensors",
        1
      ]
    },
    {
      "id": 321,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2339.081787109375,
        -31.39985466003418
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 20,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 598
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            599
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SDXL-8steps-CFG-lora.safetensors",
        1
      ]
    },
    {
      "id": 322,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2343.305908203125,
        104.82217407226562
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 22,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 599
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            600
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SDXL-8steps-CFG-lora.safetensors",
        1
      ]
    },
    {
      "id": 323,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2340.585693359375,
        236.89266967773438
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 24,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 600
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            601
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SDXL-8steps-CFG-lora.safetensors",
        1
      ]
    },
    {
      "id": 324,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2339.872802734375,
        372.55712890625
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 26,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 601
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            603,
            633
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoaderModelOnly"
      },
      "widgets_values": [
        "Hyper-SDXL-8steps-CFG-lora.safetensors",
        1
      ]
    },
    {
      "id": 198,
      "type": "VAELoader",
      "pos": [
        -2775.005859375,
        180.31192016601562
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "vae_name",
          "type": "COMBO",
          "widget": {
            "name": "vae_name"
          },
          "link": 514
        }
      ],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            670,
            697,
            702
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.24",
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "flux-vae-bf16.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 336,
      "type": "Hugging Face Download Model",
      "pos": [
        -3308.596923828125,
        134.10195922851562
      ],
      "size": [
        338.2171325683594,
        106
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model name",
          "type": "*",
          "slot_index": 0,
          "links": [
            636
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI_HuggingFace_Downloader",
        "ver": "420dbcf048d0a4af889152c7b5a36b85fa1dc8c1",
        "Node name for S&R": "Hugging Face Download Model",
        "aux_id": "jnxmx/ComfyUI_HuggingFace_Downloader"
      },
      "widgets_values": [
        "diffusion_models",
        "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
        ""
      ]
    },
    {
      "id": 260,
      "type": "SamplerCustomAdvanced",
      "pos": [
        -318.2734680175781,
        473.91082763671875
      ],
      "size": [
        202.53378295898438,
        310.5337829589844
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "noise",
          "type": "NOISE",
          "link": 541
        },
        {
          "name": "guider",
          "type": "GUIDER",
          "link": 542
        },
        {
          "name": "sampler",
          "type": "SAMPLER",
          "link": 543
        },
        {
          "name": "sigmas",
          "type": "SIGMAS",
          "link": 544
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 605
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [
            539
          ]
        },
        {
          "name": "denoised_output",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "SamplerCustomAdvanced"
      },
      "widgets_values": [
        ""
      ]
    },
    {
      "id": 340,
      "type": "FluxKontextImageScale",
      "pos": [
        -1199.9609375,
        -71.14102935791016
      ],
      "size": [
        187.75448608398438,
        26
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 639
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            640
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "FluxKontextImageScale"
      },
      "widgets_values": []
    },
    {
      "id": 339,
      "type": "ImageStitch",
      "pos": [
        -1205.6279296875,
        -272.85369873046875
      ],
      "size": [
        210,
        150
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 682
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 660
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            639
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ImageStitch"
      },
      "widgets_values": [
        "right",
        true,
        2,
        "white"
      ]
    },
    {
      "id": 342,
      "type": "ReferenceLatent",
      "pos": [
        -1206.0611572265625,
        146.89605712890625
      ],
      "size": [
        197.712890625,
        46
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 691
        },
        {
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 641
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            700,
            701
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ReferenceLatent"
      },
      "widgets_values": []
    },
    {
      "id": 263,
      "type": "RandomNoise",
      "pos": [
        -1947.1978759765625,
        -262.9842529296875
      ],
      "size": [
        367.4894104003906,
        82
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "NOISE",
          "type": "NOISE",
          "links": [
            541
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "RandomNoise"
      },
      "widgets_values": [
        7062040,
        "fixed"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 341,
      "type": "VAEEncode",
      "pos": [
        -1203.39501953125,
        8.341422080993652
      ],
      "size": [
        198.652099609375,
        46
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 640
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 702
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            641
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "VAEEncode"
      },
      "widgets_values": []
    },
    {
      "id": 326,
      "type": "InpaintModelConditioning",
      "pos": [
        -1205.1768798828125,
        481.6396484375
      ],
      "size": [
        210,
        138
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 700
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 701
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 697
        },
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 622
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 623
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            693
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": null
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            605
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "InpaintModelConditioning"
      },
      "widgets_values": [
        true
      ]
    },
    {
      "id": 332,
      "type": "InpaintCropImproved",
      "pos": [
        -1567.468017578125,
        294.1208801269531
      ],
      "size": [
        296.2287902832031,
        629.0826416015625
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 690
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 621
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": [
            618
          ]
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            622,
            682
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": [
            623
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "b432b2411cbb7d3192d35953bd3aafea05a0e245",
        "Node name for S&R": "InpaintCropImproved"
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        true,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.5000000000000002,
        true,
        1024,
        1024,
        "32"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 271,
      "type": "ModelSamplingFlux",
      "pos": [
        -918.2432861328125,
        659.1962890625
      ],
      "size": [
        265.8517150878906,
        130
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 633
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            551
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "ModelSamplingFlux"
      },
      "widgets_values": [
        1.1500000000000001,
        0.5000000000000001,
        1024,
        1024
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 276,
      "type": "Note",
      "pos": [
        -925.5368041992188,
        615.8251342773438
      ],
      "size": [
        249.53433227539062,
        143.74195861816406
      ],
      "flags": {
        "collapsed": true
      },
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Guidance, визуальный аналог эффекта параметра CFG в моделях с негативным промптом. Выше -> контрастнее и правильнее идеальные контуры такие как текст, ниже -> хуже получается собрать образ из промпта, но меньший контраст и лучшие текстуры.\nСтандартное значение для Kontext 2.5"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 270,
      "type": "FluxGuidance",
      "pos": [
        -917.885986328125,
        476.66571044921875
      ],
      "size": [
        264.4474792480469,
        58
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 693
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            616
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "FluxGuidance"
      },
      "widgets_values": [
        2.5
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 277,
      "type": "Note",
      "pos": [
        -915.3657836914062,
        447.85894775390625
      ],
      "size": [
        250.23866271972656,
        189.3807830810547
      ],
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "В этом ноде можно оперировать исключительно параметром max shift. Его повышение увеличивает сигмы, а значит модель более свободно ищет форму, даёт больше крупных элементов и менее тщательно прорабатывает детали.\nПонижение этого параметра понижает сигмы, и модель тратит больше шагов на проработку деталей, оставляя больше начального шума.\n\nНапример, для реалистичных портретов часто лучше понизить до 0.5"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 261,
      "type": "VAEDecode",
      "pos": [
        -25.531673431396484,
        476.1661376953125
      ],
      "size": [
        154.8046112060547,
        46
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 539
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 670
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            627,
            634
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 335,
      "type": "PreviewImage",
      "pos": [
        -15.283778190612793,
        581.0484619140625
      ],
      "size": [
        140,
        246
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 634
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 333,
      "type": "InpaintStitchImproved",
      "pos": [
        -39.301414489746094,
        305.5578918457031
      ],
      "size": [
        214.29940795898438,
        46
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "link": 618
        },
        {
          "name": "inpainted_image",
          "type": "IMAGE",
          "link": 627
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            628
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "b432b2411cbb7d3192d35953bd3aafea05a0e245",
        "Node name for S&R": "InpaintStitchImproved"
      },
      "widgets_values": []
    },
    {
      "id": 262,
      "type": "SaveImage",
      "pos": [
        -789.7720947265625,
        -384.64593505859375
      ],
      "size": [
        730.1036376953125,
        630.2360229492188
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 628
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 269,
      "type": "CLIPTextEncode",
      "pos": [
        -1952.4765625,
        -133.09722900390625
      ],
      "size": [
        375.4994201660156,
        314.8127136230469
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 547
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            691
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "change color of part of costume to blue"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 196,
      "type": "UNETLoader",
      "pos": [
        -2785.005615234375,
        30.311796188354492
      ],
      "size": [
        329.2889099121094,
        82
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "unet_name",
          "type": "COMBO",
          "widget": {
            "name": "unet_name"
          },
          "link": 636
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            597
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.24",
        "Node name for S&R": "UNETLoader"
      },
      "widgets_values": [
        "flux1-dev-fp8.safetensors",
        "default"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 338,
      "type": "LoadImage",
      "pos": [
        -1522.0457763671875,
        -280.5231628417969
      ],
      "size": [
        270.3521728515625,
        421.4060974121094
      ],
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            660
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 330,
      "type": "LoadImageOutput",
      "pos": [
        -1940.4208984375,
        326.4228515625
      ],
      "size": [
        355.7735900878906,
        587.5695190429688
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            690
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            621
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "LoadImageOutput"
      },
      "widgets_values": [
        "example.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 266,
      "type": "BasicScheduler",
      "pos": [
        -588.0595092773438,
        670.1414794921875
      ],
      "size": [
        210,
        106
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 551
        }
      ],
      "outputs": [
        {
          "name": "SIGMAS",
          "type": "SIGMAS",
          "links": [
            544
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "BasicScheduler"
      },
      "widgets_values": [
        "beta",
        20,
        1
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    }
  ],
  "links": [
    [
      512,
      228,
      0,
      48,
      0,
      "COMBO"
    ],
    [
      513,
      227,
      0,
      48,
      1,
      "COMBO"
    ],
    [
      514,
      229,
      0,
      198,
      0,
      "COMBO"
    ],
    [
      539,
      260,
      0,
      261,
      0,
      "LATENT"
    ],
    [
      541,
      263,
      0,
      260,
      0,
      "NOISE"
    ],
    [
      542,
      264,
      0,
      260,
      1,
      "GUIDER"
    ],
    [
      543,
      265,
      0,
      260,
      2,
      "SAMPLER"
    ],
    [
      544,
      266,
      0,
      260,
      3,
      "SIGMAS"
    ],
    [
      547,
      48,
      0,
      269,
      0,
      "CLIP"
    ],
    [
      551,
      271,
      0,
      266,
      0,
      "MODEL"
    ],
    [
      597,
      196,
      0,
      320,
      0,
      "MODEL"
    ],
    [
      598,
      320,
      0,
      321,
      0,
      "MODEL"
    ],
    [
      599,
      321,
      0,
      322,
      0,
      "MODEL"
    ],
    [
      600,
      322,
      0,
      323,
      0,
      "MODEL"
    ],
    [
      601,
      323,
      0,
      324,
      0,
      "MODEL"
    ],
    [
      603,
      324,
      0,
      264,
      0,
      "MODEL"
    ],
    [
      605,
      326,
      2,
      260,
      4,
      "LATENT"
    ],
    [
      616,
      270,
      0,
      264,
      1,
      "CONDITIONING"
    ],
    [
      618,
      332,
      0,
      333,
      0,
      "STITCHER"
    ],
    [
      621,
      330,
      1,
      332,
      1,
      "MASK"
    ],
    [
      622,
      332,
      1,
      326,
      3,
      "IMAGE"
    ],
    [
      623,
      332,
      2,
      326,
      4,
      "MASK"
    ],
    [
      627,
      261,
      0,
      333,
      1,
      "IMAGE"
    ],
    [
      628,
      333,
      0,
      262,
      0,
      "IMAGE"
    ],
    [
      633,
      324,
      0,
      271,
      0,
      "MODEL"
    ],
    [
      634,
      261,
      0,
      335,
      0,
      "IMAGE"
    ],
    [
      636,
      336,
      0,
      196,
      0,
      "COMBO"
    ],
    [
      639,
      339,
      0,
      340,
      0,
      "IMAGE"
    ],
    [
      640,
      340,
      0,
      341,
      0,
      "IMAGE"
    ],
    [
      641,
      341,
      0,
      342,
      1,
      "LATENT"
    ],
    [
      660,
      338,
      0,
      339,
      1,
      "IMAGE"
    ],
    [
      670,
      198,
      0,
      261,
      1,
      "VAE"
    ],
    [
      682,
      332,
      1,
      339,
      0,
      "IMAGE"
    ],
    [
      690,
      330,
      0,
      332,
      0,
      "IMAGE"
    ],
    [
      691,
      269,
      0,
      342,
      0,
      "CONDITIONING"
    ],
    [
      693,
      326,
      0,
      270,
      0,
      "CONDITIONING"
    ],
    [
      697,
      198,
      0,
      326,
      2,
      "VAE"
    ],
    [
      700,
      342,
      0,
      326,
      0,
      "CONDITIONING"
    ],
    [
      701,
      342,
      0,
      326,
      1,
      "CONDITIONING"
    ],
    [
      702,
      198,
      0,
      341,
      1,
      "VAE"
    ]
  ],
  "groups": [
    {
      "id": 4,
      "title": "Loading models",
      "bounding": [
        -2815.006103515625,
        -239.68807983398438,
        389.6839294433594,
        533.0144653320312
      ],
      "color": "#88A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Hugging Face Downloaders",
      "bounding": [
        -3325.0068359375,
        -249.68801879882812,
        373.26153564453125,
        658.6405639648438
      ],
      "color": "#444",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Prompt, Image Size & Seed",
      "bounding": [
        -1969.62744140625,
        -349.8330078125,
        411.6830749511719,
        557.1091918945312
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Flux-specific nodes",
      "bounding": [
        -942.699951171875,
        364.3385925292969,
        311.83270263671875,
        449.22235107421875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Sampler",
      "bounding": [
        -600.2731323242188,
        360.82965087890625,
        506.49505615234375,
        447.15130615234375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "LoRA",
      "bounding": [
        -2356.38232421875,
        -237.3067169189453,
        297.300537109375,
        701.8638305664062
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 10,
      "title": "Inpainting",
      "bounding": [
        -1964.8551025390625,
        227.81570434570312,
        982.3101196289062,
        698.5042114257812
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 11,
      "title": "Kontext Reference",
      "bounding": [
        -1532.119140625,
        -346.8275146484375,
        550.2963256835938,
        558.72802734375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.3234918430760697,
      "offset": [
        3415.4309923508463,
        1421.1542337410474
      ]
    },
    "frontendVersion": "1.23.4",
    "reroutes": [
      {
        "id": 3,
        "pos": [
          -2057.53125,
          -369.31878662109375
        ],
        "linkIds": [
          603,
          633
        ]
      },
      {
        "id": 4,
        "parentId": 53,
        "pos": [
          -948.3617553710938,
          343.29095458984375
        ],
        "linkIds": [
          603,
          633
        ]
      },
      {
        "id": 8,
        "pos": [
          -2412.30859375,
          -313.8456726074219
        ],
        "linkIds": [
          547
        ]
      },
      {
        "id": 9,
        "parentId": 8,
        "pos": [
          -2011.9041748046875,
          -323.8281555175781
        ],
        "linkIds": [
          547
        ]
      },
      {
        "id": 20,
        "pos": [
          -1535.460693359375,
          -363.1824645996094
        ],
        "linkIds": [
          541
        ]
      },
      {
        "id": 21,
        "parentId": 40,
        "pos": [
          -365.66162109375,
          329.8409423828125
        ],
        "linkIds": [
          541
        ]
      },
      {
        "id": 26,
        "parentId": 4,
        "pos": [
          -619.150634765625,
          350.14154052734375
        ],
        "linkIds": [
          603
        ]
      },
      {
        "id": 38,
        "parentId": 49,
        "pos": [
          -88.35979461669922,
          934.1788940429688
        ],
        "linkIds": [
          670
        ]
      },
      {
        "id": 39,
        "parentId": 20,
        "pos": [
          -984.12158203125,
          -356.2960510253906
        ],
        "linkIds": [
          541
        ]
      },
      {
        "id": 40,
        "parentId": 39,
        "pos": [
          -923.4642944335938,
          326.0597839355469
        ],
        "linkIds": [
          541
        ]
      },
      {
        "id": 45,
        "pos": [
          -2394.272216796875,
          949.3355102539062
        ],
        "linkIds": [
          670,
          697,
          702
        ]
      },
      {
        "id": 47,
        "pos": [
          -1527.64990234375,
          163.27670288085938
        ],
        "linkIds": [
          691
        ]
      },
      {
        "id": 48,
        "pos": [
          -1220.425537109375,
          424.8840026855469
        ],
        "linkIds": [
          700,
          701
        ]
      },
      {
        "id": 49,
        "parentId": 45,
        "pos": [
          -1248.9207763671875,
          949.8342895507812
        ],
        "linkIds": [
          670,
          697,
          702
        ]
      },
      {
        "id": 52,
        "parentId": 49,
        "pos": [
          -1233.3953857421875,
          510.17266845703125
        ],
        "linkIds": [
          697,
          702
        ]
      },
      {
        "id": 53,
        "parentId": 3,
        "pos": [
          -964.464599609375,
          -379.75738525390625
        ],
        "linkIds": [
          603,
          633
        ]
      },
      {
        "id": 54,
        "pos": [
          -950.1572875976562,
          836.2921752929688
        ],
        "linkIds": [
          605
        ]
      },
      {
        "id": 55,
        "parentId": 54,
        "pos": [
          -339.4609680175781,
          829.1338500976562
        ],
        "linkIds": [
          605
        ]
      }
    ],
    "node_versions": {
      "comfy-core": "0.3.14",
      "ComfyUI-KJNodes": "095c8d4b526ba3c1f12fd9dd1d7f3540c6a11358"
    },
    "VHS_latentpreview": true,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "linkExtensions": [
      {
        "id": 541,
        "parentId": 21
      },
      {
        "id": 547,
        "parentId": 9
      },
      {
        "id": 603,
        "parentId": 26
      },
      {
        "id": 605,
        "parentId": 55
      },
      {
        "id": 633,
        "parentId": 4
      },
      {
        "id": 670,
        "parentId": 38
      },
      {
        "id": 691,
        "parentId": 47
      },
      {
        "id": 697,
        "parentId": 52
      },
      {
        "id": 700,
        "parentId": 48
      },
      {
        "id": 701,
        "parentId": 48
      },
      {
        "id": 702,
        "parentId": 52
      }
    ]
  },
  "version": 0.4
}